<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <link rel="shortcut icon" href="static/favicon.ico">
    <title>山东省政务区块链服务平台</title>
</head>

<link rel="stylesheet" type="text/css" href="css/main.css" />
<link rel="stylesheet" type="text/css" href="css/index.css" />

<body>
    <img src="static/back.png" class="noback" id="" onclick="goback()" title="返回顶部" />
    <div class="wdf bgf" style="position: relative;">
        <div class="header-style">
            <div class="wdf-flex tl">
                <a href="index.html" class="header-left">
                    <img src="static/sdzwqkl/qilulian.png"  width="33" />

                    <span class="header-title">山东省政务区块链服务平台</span>
                </a>
            </div>
            <div class="kfzzx-top">
                <div class="wdf-flex tl">
                    <a href="kfzzx.html" target="_blank" class="header-right">
                        <span class="kfzzx-top-title">开发者中心</span>
                    </a>
                </div>
            </div>
            <div id="login-platform"></div>
        </div>
    </div>
    <div class="disb posr w100 bgf6">
        <img src="./static/sdzwqkl/banner.png"  class="w100 disb" />


        <div class="banner-content-qkl">
            <div class="mb37 fcolorf-qkl span1">
                <span class="fs50">山东省政务区块链</span>
                <span class="fs30 ml15" style="font-weight: bold;">服务平台</span></span>
            </div>
            <div class="qkl-describe mb20">
                <div class="fs26 span2 mr14">统筹</div>
                <i class="qkl-i mr14"></i>
                <div class=" fs26 span2 mr14">创新</div>
                <i class="qkl-i mr14"></i>

                <div class=" fs26 span2 mr14">标准</div>
                <i class="qkl-i mr14"></i>

                <div class=" fs26 span2">可信</div>
            </div>

        </div>


    </div>
    <div class="disb posr bgfff pb60 z99" id="z1">
        <div class="w80">
            <div>
                <div class="strengths-font-kf modeltitle tc"></div>
                <div class="w80 marginauto wdf tc">
                    <div class="wdf-flex1 qkl-bd">
                        <div class="wdf jc">
                            <img src="./static/sdzwqkl/1383.png" class="disin mt38 posa sd-tt" alt="#">
                            <div class="bcf w280 h150 pt70 mgt65 ">
                                <div style="font-weight:bold;color:#333333;" class="fs18 prl20 mh40">搭建业务子链</div>
                                <div class="fs16 fwnm tl mg27 lh17 fcolor6 ls1 mt5 lh15">
                                    集合多种底层区块链资源，屏蔽基础技术细节，为用户搭建业务子链
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="disb block1"></div>
                    <div class="wdf-flex1 qkl-bd">
                        <div class="wdf jc">
                            <img src="./static/sdzwqkl/1384.png" class="disin mt38 posa sd-tt" alt="#">
                            <div class="bcf w280 h150 pt70 mgt65 ">
                                <div style="font-weight:bold;color:#333333;" class="fs18 prl20 mh40">业务子链使用</div>
                                <div class="fs16 fwnm tl mg27 lh17 fcolor6 ls1  mt5 lh15">
                                    封装区块链资源和能力，实现智能合约快速部署，降低区块链使用门槛
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="disb block1"></div>
                    <div class="wdf-flex1 qkl-bd">
                        <div class="wdf jc">
                            <img src="./static/sdzwqkl/1385.png" class="disin mt38 posa sd-tt" alt="#">
                            <div class="bcf w280 h150 pt70 mgt65 ">
                                <div style="font-weight:bold;color:#333333;" class="fs18 prl20 mh40">链上应用</div>
                                <div class="fs16 fwnm tl mg27 lh17 fcolor6 ls1 mt5 lh15">
                                    落地政务区块链示范应用，打造典型政务区块链应用场景服务案例
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="disb block1"></div>
                    <div class="wdf-flex1 qkl-bd">
                        <div class="wdf jc">
                            <img src="./static/sdzwqkl/1861.png" class="disin mt38 posa sd-tt" alt="#">
                            <div class="bcf w280 h150 pt70 mgt65 ">
                                <div style="font-weight:bold;color:#333333;" class="fs18 prl20 mh40">跨链协同</div>
                                <div class="fs16 fwnm tl mg27 lh17 fcolor6 ls1 mt5 lh15">
                                    统一接入和交互标准，促进链间互联互通，实现数据跨链交互、共享
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div width="100%" height="660px" class="kf-dt disb" style=" position: relative;">
        <div id="particles-js">
        </div>
        <div class="bfbw80 marginauto  map-particles">

            <div style="width:100%;height:510px">

                <div class="screenTitle"></div>
                <div style="padding: 0 100px;margin-top: 10px;">
                    <ul class="infoPic">
                        <li class="screenTotal">
                            <h4 class="totalName"> 接入链</h4>
                            <p class="totalValue" id="accessChainCount">0</p>
                        </li>

                        <li class="screenTotal">
                            <h4 class="totalName">接入委办局</h4>
                            <p class="totalValue" id="memberCount">0</p>
                        </li>

                        <li class="screenTotal">
                            <h4 class="totalName">平台用户数</h4>
                            <p class="totalValue" id="accountCount">0</p>
                        </li>

                        <li class="screenTotal">
                            <h4 class="totalName">链上标识数</h4>
                            <p class="totalValue" id="identityCount"> 797</p>
                        </li>
                        <li class="screenTotal">
                            <h4 class="totalName">上链数据量</h4>
                            <p class="totalValue" id="upChainCount">0</p>
                        </li>
                    </ul>
                </div>


                <div style="width: 100%; height: 100%;" id="barChart"></div>
            </div>

        </div>
    </div>


    <iframe class="disb kf-ft-bg" src="./ifram/kf-footer.html" width="100%" height="180px" frameborder="0"
        scrolling="no"></iframe>

    <!-- js引用 -->
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.4.2/echarts.min.js"></script>
    <script type="text/javascript" src="./js/map_data/shandong.json"></script>
    <script src="js/particles.js"></script>
    <script src="js/particles-app.js"></script>

    <script src="js/jquery.min.js" type="text/javascript"></script>
    <script src="js/commonFn.js" type="text/javascript"></script>
    <script src="./js/index.js" type="text/javascript"></script>

</body>

</html>
<style type="text/css">

</style>
<script>
    var subchainList = [{
                              name:'' ,
        txNum: 0,
        longitude:'',
        latitude:'',
        flag: 0,
        org: '',
        type: '',
        runStatus: '',
        accountNum : 0,
    }]
    $.ajaxSetup({ async: false });

    $.getJSON("http://10.180.13.32:13001/largeScreenOut/coreMetrics", function (msg) {

        $("#accessChainCount").html(msg.data.accessChainCount)
        $("#accountCount").html(msg.data.accountCount)
        //   $("#identityCount").html(msg.data.identityCount)
        $("#memberCount").html(msg.data.memberCount)
        $("#upChainCount").html(msg.data.upChainCount)
    })
    $.getJSON("http://10.180.13.32:13001/largeScreenOut/subchainList", function (msg) {
        subchainList = msg.data
    })


    let nc = document.getElementById("barChart");
    var myChart = this.echarts.init(nc);
    this.echarts.registerMap("山东", { geoJSON: shandong });

    var sdGeoCoordMap = {
        济南市: [117.000923, 36.675807],
        青岛市: [120.355173, 36.082982],
        烟台市: [121.391382, 37.539297],
        潍坊市: [119.107078, 36.70925],
        菏泽市: [115.469381, 35.246531],
        日照市: [119.461208, 35.428588],
        威海市: [122.116394, 37.509691],
        枣庄市: [117.557964, 34.856424],
        临沂市: [118.326443, 35.065282],
        滨州市: [118.016974, 37.383542],
        东营市: [118.66471, 37.434564],
        淄博市: [118.047648, 36.814939],
        泰安市: [117.129063, 36.194968],
        聊城市: [115.980367, 36.456013],
        济宁市: [116.587245, 35.415393],
        德州市: [116.307428, 37.453968],
    };

    var that = this;

    var opt = {
        bgColor: "#3835f8", // 画布背景色
        mapName: "山东", // 地图名
        goDown: true, // 是否下钻

        // 数据展示
        data: [],
    };


    var idx = 0;
    var pos = {
        //层级位置
        leftPlus: 55,
        leftCur: 50,
        left: 10,
        top: 10,
    };

    var line = [
        //箭头
        [0, 0],
        [8, 11],
        [0, 22],
    ];

    var style = {
        font: '18px "Microsoft YaHei", sans-serif',
        textColor: "#0c3973",
        lineColor: "rgba(147, 235, 248, .8)",
    };
 

    var series = [];
    [["济南市", subchainList]].forEach(function (item, i) {
        series.push(
            {

                type: 'effectScatter',
                symbolSize: 12,
                zlevel: 2,
                rippleEffect: { 
                    period: 4, 
                    brushType: 'stroke', 
                    scale: 4 
                },
                label: {
                    normal: {
                        formatter: "{b}",
                        position: "right",
                        show: false, 
                    },
                    emphasis: {
                        show: true,
                    },
                },
                itemStyle: {
                    normal: {
                        color: "rgb(255,187,96,1)",

                    },
                },
                name: "light",
                // type: "scatter",
                coordinateSystem: "geo",
                data: item[1].map(function (dataItem) {


                    return {
                        name: dataItem.name,
                        txNum: dataItem.txNum,
                        value: [dataItem.longitude, dataItem.latitude],
                        flag: dataItem.flag == 1 ? '主链' : '子链',
                        org: dataItem.org,
                        type: dataItem.type,
                        runStatus: dataItem.runStatus
                    }
                })

            },


        );
    });
    var that = this;
    var option = {
        tooltip: {
            trigger: 'item',
            backgroundColor: 'rgba(0,0,0,0)',
            borderColor: 'rgba(0,0,0)',
            borderWidth: 0,
            textStyle: {
                color: 'rgba(0,0,0,0)',
                width: 1,
                fontSize: 1,
            },
            padding: 0,
            extraCssText: 'box-shadow: 0 0 3px rgba(0, 0, 0, 0);',

            formatter: function (item) {

                if (item.componentSubType === "lines") {

                    var tipHtml1 = "";
                    tipHtml1 =
                        '<div  style="background:#fff;display:flex ;width:131px ;overflow: hidden;height: 41px; align - items: center; border - radius: 10px; box - shadow: 0 0 2px rgb(88, 222, 251);">' +
                        '<divstyle=" background-color: #FFBB60; width: 40px;height: 41px;display: flex; align-items: center;    text-align: center;    padding-left: 12px;">' +
                        `<img src='./static/sdzwqkl/1969.png' alt='#'>` +
                        '</div>' +
                        '<div style="color: #000;height: 41px;line-height: 41px;width: 93px;font-size:14px; background - color: #fff; text - align: center;">' +
                        '电子证照链' +
                        "</div>" +
                        "</div>";
                    return tipHtml1;
                } else if (item.componentSubType === "effectScatter") {

                    return `<div class='noticeBg' style="width: 180Px;height: 207Px;background-image: url(${'./static/sdzwqkl/noticeBg.png'});opacity: 0.85;;overflow: hidden;padding-left: 22px;padding-right: 10px;">
                                <div style="width:100%;margin-top:31px">
                                    <div style="display:inline-block;height: 20px;
                                    font-size: 16px;line-height:20px;
                                    font-family: Microsoft YaHei;
                                    font-weight: 400;
                                    color: #C9EFF2;
                                    overflow: hidden;
                                    text-overflow: ellipsis;
                                    white-space: nowrap;
                                 ">${item.data.name}</div>
                                <div
                    style="overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;display:inline-block;width: 50px;height: 16px;background: #3EBDCD;border-radius: 8px;line-height:16px;font-size: 12px;color: #040F2D;text-align: center;margin-left:10px">
                    ${item.data.flag}</div>
            </div>
            <div style="width: 164px;
height: 1px;
background: #C9EFF2;
opacity: 0.2;margin-top: 10px;"></div>
            <div style="width: 100%;
            height: 16px;
            font-size: 14px;
            font-family: Microsoft YaHei;
            font-weight: 400;
            color: #C9EFF2;
            line-height: 16px;
            margin-top:5px;
            overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;">${item.data.org}</div>
            <div style="width: 100%;
            height: 16px;
            font-size: 14px;
            font-family: Microsoft YaHei;
            font-weight: 400;
            color: #C9EFF2;
            line-height: 16px;
            margin-top:5px;
            overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;">${item.data.type}</div>
           


<div style="margin-top:5px">
    <div style="
            display: inline-block;
            height: 13px;
            font-size: 14px;
            font-family: Microsoft YaHei;
            font-weight: 400;
            color: #C9EFF2;
            line-height: 12px;">
            上链数据量：</div>
            <div style="
            display: inline-block;
            height: 13px;
            font-size: 16px;
            font-family: Microsoft YaHei;
            font-weight: bold;
            color: #3EBDCD;
            line-height: 12px;margin-left:15px;">
            ${item.data.txNum}</div>
</div>
<div style="width: 164px;
height: 1px;
background: #C9EFF2;
opacity: 0.2;margin-top: 10px;"></div>
<div style="width:100%;text-align:center;margin-top:2px;font-size: 16px;
font-family: Microsoft YaHei;
font-weight: 400;
color: #C9EFF2;">
${item.data.runStatus == 'normal' ? '正常' : item.data.runStatus == 'alarm' ? '警告' : '故障'}
</div>
                    </div>`;
                } else if (item.componentSubType === "scatter") {

                    var tipHtml3 = "";
                    tipHtml3 =
                        '<div  style="background:#fff;display:flex ;width:131px ;overflow: hidden;height: 41px; align-items: center; border-radius: 10px; box-shadow: 0 0 2px rgb(88, 222, 251);">' +
                        '<div style=" background-color: #FFBB60; width: 40px;height: 41px;display: flex; align-items: center;    text-align: center;    padding-left: 12px;">' +
                        `<img src='./static/sdzwqkl/1969.png' alt='#'>` +
                        '</div>' +
                        '<div style="color: #000;height: 41px;line-height: 41px;width: 93px;font-size:14px; background-color: #fff; text-align: center;">' +
                        '电子证照链' +


                        "</div>" +
                        "</div>";
                    return tipHtml3;
                }
            },
            itemStyle: {
                normal: {
                    color: "rgb(255,187,96,1)",
                    borderColor: 'rgb(255,187,96,.5)',
                    borderWidth: 10,
                },
            },
        },
        geo: {
            map: "山东",

            layoutCenter: ["50%", "50%"],
            layoutSize: "140%",

            select: {
                label: {
                    show: true,
                    color: "#fff",
                },
                itemStyle: {
                    areaColor: "rgb(0, 60, 121 ,.7)", 
                }
            },

            label: {
                normal: {
                    show: true, 
                    textStyle: {
                        color: "#fff",
                    },
                },
                emphasis: {
                    textStyle: {
                        color: "#fff",
                    },
                },
            },
            roam: false,
            mapLocation: {
                width: "120%",
                height: "100%",
            },

            itemStyle: {
                normal: {
                    borderColor: "rgba(132,188, 223)",
                    borderWidth: 1,
                    areaColor: "rgb(15,72,138,0.5)",

                },
                emphasis: {
                    areaColor: "rgb(0, 60, 121 ,.7)", 
                    focus: 'none',
                    disabled: false, //,

                },

            },

        },
        series: series,
    };
    myChart.setOption(option);
    myChart.on("mouseover", function (params) {
        myChart.dispatchAction({
            type: 'downplay'
        });
    });
    particlesJS.load('particles-js', './js/particles.json');





    function goback() {
        $("html,body").animate({
            scrollTop: 0
        }, 500);
    }



</script>